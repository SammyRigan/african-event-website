# Speaker Management System

## Overview

The Creatives Connect Afrika website now has a complete speaker management system that allows administrators to add, edit, and manage speakers through the admin panel.

## Features

✅ **Dynamic Speaker Loading** - Speakers are loaded from Firebase Firestore
✅ **Admin Management** - Add, edit, and delete speakers through the admin panel
✅ **Bilingual Support** - All speaker data supports English and French
✅ **Order Management** - Control the display order of speakers
✅ **Active/Inactive Toggle** - Show or hide speakers without deleting them
✅ **Rich Profiles** - Support for bio, achievements, education, expertise, impact, initiatives, and experience

## How It Works Now

### Initial Speakers Display

The speakers page now works with a **hybrid approach**:

1. **Initial Load (Instant)**
   - 4 hardcoded speakers display immediately
   - No loading spinner needed
   - Page is instantly visible

2. **Firebase Load (Background)**
   - Simultaneously fetches speakers from Firebase
   - If Firebase has speakers → replaces initial speakers
   - If Firebase is empty → keeps initial speakers
   - On error → keeps initial speakers

3. **Best of Both Worlds**
   - ✅ Fast page load (no waiting)
   - ✅ Manageable via admin panel
   - ✅ Fallback if Firebase fails

### Initial Speakers (Hardcoded)

These 4 speakers are shown by default:
1. H.E. Wamkele Keabetswe Mene
2. Emily Njeri Mburu-Ndoria
3. Kwakye Donkor
4. Rex Owusu Marfo (Rex Omar)

### Optional: Upload to Firebase

If you want to manage speakers via admin panel:

1. **Login to Admin Panel**
   - Navigate to: `/admin/login`
   - Use credentials: `admin@creativesconnectafrika.com` / `CCA2025Admin!`

2. **Upload Initial Speakers (Optional)**
   - Navigate to: `/admin/upload-speakers`
   - Click "Upload 4 Speakers" button
   - This uploads the hardcoded speakers to Firebase
   - (Only do this once)

3. **Add More Speakers**
   - Go to `/admin` → Speakers tab
   - Click "Add Speaker"
   - Fill in the form with image upload
   - New speakers will be added to Firebase

### Viewing Speakers on Public Page

- Navigate to: `/speakers`
- Speakers display immediately (no loading delay)
- If Firebase has speakers, they show instead
- Otherwise, initial 4 speakers are shown

## Speaker Data Structure

Each speaker has the following fields:

```typescript
interface Speaker {
  id?: string;                    // Auto-generated by Firebase
  name: string;                   // Speaker's full name
  title: string;                  // Title/Position (English)
  titleFr: string;                // Title/Position (French)
  image: string;                  // Path to speaker photo
  bio: string;                    // Biography (English)
  bioFr: string;                  // Biography (French)
  achievements?: string[];        // Key achievements (English)
  achievementsFr?: string[];      // Key achievements (French)
  education?: string[];           // Education background (English)
  educationFr?: string[];         // Education background (French)
  expertise?: string[];           // Areas of expertise (English)
  expertiseFr?: string[];         // Areas of expertise (French)
  impact?: string[];              // Impact/Influence (English)
  impactFr?: string[];            // Impact/Influence (French)
  initiatives?: string[];         // Key initiatives (English)
  initiativesFr?: string[];       // Key initiatives (French)
  experience?: string[];          // Experience areas (English)
  experienceFr?: string[];        // Experience areas (French)
  order: number;                  // Display order (1, 2, 3, etc.)
  isActive: boolean;              // Show/hide speaker
  timestamp: any;                 // Auto-generated timestamp
}
```

## Managing Speakers via Admin Panel

### Accessing Speaker Management

1. Login to admin panel: `/admin/login`
2. Click "Speakers" in the sidebar
3. You'll see a list of all speakers

### Adding a New Speaker

1. Click "Add Speaker" button in the Speakers tab
2. Fill in all required fields (marked with *)
   - Name, Title (EN & FR), Image path
   - Bio (EN & FR)
3. Add optional fields:
   - Achievements, Education, Expertise
   - Experience, Impact, Initiatives
   - (All support bilingual content)
4. Set display order and active status
5. Click "Add Speaker"

**Tips:**
- Click to upload speaker image or drag and drop
- Accepted formats: PNG, JPG, GIF (max 5MB)
- Images are automatically uploaded to Firebase Storage
- Preview shows immediately after selection
- Enter list items one per line (they'll be converted to arrays)
- Lower order numbers appear first (1, 2, 3...)

### Editing a Speaker

1. Click the "Edit" button on a speaker card
2. The form loads with all current data
3. Update any fields you want to change
4. To change the image:
   - Click "Upload new image"
   - Select a new image file
   - Preview will show the new image
   - Click X to cancel and keep current image
5. Click "Update Speaker"
6. Changes are reflected immediately on the public page

**Image Update:**
- Current image is displayed at the top
- Upload a new image to replace it
- If no new image is selected, the current image is kept
- New images are uploaded to Firebase Storage

### Deleting a Speaker

1. Click the "Delete" button on a speaker card
2. Confirm the deletion
3. The speaker will be permanently removed

### Toggling Active/Inactive

To hide a speaker without deleting:
- Set `isActive: false` in Firebase console
- The speaker won't appear on the public page but remains in the database

## Current Speakers

The system includes 4 initial speakers:

1. **H.E. Wamkele Keabetswe Mene**
   - Secretary-General, AfCFTA Secretariat
   - Order: 1

2. **Emily Njeri Mburu-Ndoria**
   - Director, Trade in Services, AfCFTA
   - Order: 2

3. **Kwakye Donkor**
   - CEO, Africa Tourism Partners
   - Order: 3

4. **Rex Owusu Marfo (Rex Omar)**
   - Coordinator, Black Star Experience Secretariat
   - Order: 4

## Firebase Collection

- **Collection Name:** `speakers`
- **Location:** Firestore Database
- **Indexes Required:** 
  - `isActive` (for filtering active speakers)
  - `order` (for sorting speakers)

## Public Speaker Page Features

- **Loading State:** Shows spinner while fetching speakers
- **Empty State:** Shows message when no speakers available
- **Bilingual Display:** Automatically shows content in selected language
- **Responsive Design:** Works on all screen sizes
- **Image Optimization:** Next.js Image component for optimal loading

## API Functions

Available functions in `/lib/firebaseService.ts`:

```typescript
// Add a new speaker
addSpeaker(data: Omit<Speaker, 'id' | 'timestamp'>)

// Update an existing speaker
updateSpeaker(id: string, data: Partial<Speaker>)

// Delete a speaker
deleteSpeaker(id: string)
```

## Troubleshooting

### Speakers Not Showing
1. Check Firebase console to ensure speakers exist
2. Verify `isActive` is set to `true`
3. Check browser console for errors

### Upload Fails
1. Ensure Firebase credentials are correct
2. Check Firestore rules allow writes
3. Verify internet connection

### Images Not Loading
1. Ensure image files exist in `/public` folder
2. Check image paths match exactly (case-sensitive)
3. Verify image file formats are supported

## Image Upload System

### How It Works

1. **Add New Speaker:**
   - Click the upload area or drag and drop
   - Image is validated (type, size)
   - Preview shows immediately
   - Image is uploaded to Firebase Storage when form is submitted
   - Download URL is automatically saved to speaker record

2. **Edit Existing Speaker:**
   - Current image is displayed
   - Click "Upload new image" to replace
   - Preview shows new image
   - Click X to cancel and keep current image
   - New image is uploaded only if selected
   - Old image URL is kept if no new image is uploaded

3. **Image Specifications:**
   - **Accepted formats:** PNG, JPG, GIF
   - **Max size:** 5MB
   - **Storage location:** Firebase Storage (`speakers/` folder)
   - **Naming:** Auto-generated based on speaker name + timestamp
   - **Delivery:** Firebase CDN for optimal loading

### Firebase Storage Structure

```
/speakers/
  ├── wamkele-keabetswe-mene-1234567890.jpg
  ├── emily-njeri-mburu-ndoria-1234567891.png
  ├── kwakye-donkor-1234567892.jpg
  └── rex-owusu-marfo-1234567893.jpg
```

## Next Steps / TODO

- [x] Create full add/edit speaker form UI ✅
- [x] Add image upload functionality ✅
- [ ] Add bulk import/export features
- [ ] Add speaker analytics/stats
- [x] Add speaker search and filtering ✅
- [ ] Add speaker categories/tags
- [ ] Add drag-and-drop reordering
- [ ] Add image compression before upload
- [ ] Add drag-and-drop for image upload

## Security Notes

- Only authenticated admin users can manage speakers
- Public speaker page is read-only
- Firebase security rules should restrict speaker writes to admin users
- Images should be optimized before upload

## Support

For issues or questions about the speaker management system, contact the development team.

